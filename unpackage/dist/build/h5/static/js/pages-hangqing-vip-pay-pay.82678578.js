(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-hangqing-vip-pay-pay"],{4297:function(t,i,a){"use strict";a.r(i);var e=a("51ad"),n=a("76a9");for(var u in n)"default"!==u&&function(t){a.d(i,t,(function(){return n[t]}))}(u);var s,r=a("f0c5"),c=Object(r["a"])(n["default"],e["b"],e["c"],!1,null,"0a8a2102",null,!1,e["a"],s);i["default"]=c.exports},"51ad":function(t,i,a){"use strict";var e;a.d(i,"b",(function(){return n})),a.d(i,"c",(function(){return u})),a.d(i,"a",(function(){return e}));var n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",[a("v-uni-view",{staticClass:"p-20 u-f u-f-ajc"},[a("v-uni-view",{staticClass:"u-f-dc u-f-ac"},[a("v-uni-text",{staticClass:"f-s"},[t._v("剩余应付")]),a("v-uni-view",{staticClass:"u-f-dr u-f-ac",staticStyle:{color:"crimson"}},[a("v-uni-text",{staticStyle:{"margin-top":"5px",padding:"5px"}},[t._v("¥")]),a("v-uni-text",{staticStyle:{"font-size":"32px","font-weight":"900"}},[t._v(t._s(t._f("money")(t.money)))])],1)],1)],1),a("v-uni-view",{staticClass:"p-20 c-grey"},[t._v("请选择付款方式")]),a("v-uni-view",{staticClass:"u-f-dc p-10",staticStyle:{"background-color":"#FFFFFF"}},[a("v-uni-radio-group",{on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.radioChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"u-f-dr u-f-ac u-f-jsb bd-b-1"},[a("v-uni-view",{staticClass:"p-5 u-f-ac u-f-dr"},[a("v-uni-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:t.getImgsrc("static/zhifubao.png"),mode:"aspectFill"}}),a("v-uni-view",{staticClass:"m-l-10 u-f-dc"},[a("v-uni-view",{staticClass:"u-f-dr"},[a("v-uni-text",{staticClass:"f-b-wb"},[t._v("支付宝")]),a("v-uni-image",{staticClass:"m-l-8",staticStyle:{width:"40px",height:"15px"},attrs:{src:t.getImgsrc("static/tuijian.png"),mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"f-s"},[t._v("10亿用户都在用，真安全，更放心")])],1)],1),a("v-uni-label",{staticClass:"radio"},[a("v-uni-radio",{attrs:{value:"0",checked:0===t.current}}),a("v-uni-text")],1)],1),a("v-uni-view",{staticClass:"u-f-dr u-f-ac u-f-jsb"},[a("v-uni-view",{staticClass:"p-5 u-f-ac u-f-dr"},[a("v-uni-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:t.getImgsrc("static/weixin.png"),mode:"aspectFill"}}),a("v-uni-view",{staticClass:"m-l-10 u-f-dc"},[a("v-uni-view",[t._v("微信支付")]),a("v-uni-view",{staticClass:"f-s"},[t._v("数亿用户都在用，安全可托付")])],1)],1),a("v-uni-label",{staticClass:"radio"},[a("v-uni-radio",{attrs:{value:"1",checked:1===t.current}}),a("v-uni-text")],1)],1)],1)],1),a("v-uni-view",{staticClass:"p-20 u-f u-f-ajc"},[a("v-uni-button",{style:{background:0==t.current?"":"green"},attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.pay.apply(void 0,arguments)}}},[t._v(t._s(0==t.current?"支付宝":"微信")+"支付 ¥"+t._s(t._f("money")(t.money))+"元")])],1)],1)},u=[]},"76a9":function(t,i,a){"use strict";a.r(i);var e=a("ea39"),n=a.n(e);for(var u in e)"default"!==u&&function(t){a.d(i,t,(function(){return e[t]}))}(u);i["default"]=n.a},ea39:function(t,i,a){"use strict";(function(t){var e=a("4ea4");a("c975"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,a("96cf");var n,u=e(a("1da1")),s={data:function(){return{money:0,current:0,list:[],type:0,user_uuid:"",order_uid:"",item:""}},onNavigationBarButtonTap:function(){t.log("查看订单")},onLoad:function(i){uni.setNavigationBarTitle({title:"GaoDing策略.收银台"}),this.money=i.price,this.order_uid=i.order_uid,t.log(this.order_uid)},methods:{radioChange:function(i){t.log(i.target.value),this.current=i.target.value},pay:function(){n=this,uni.getProvider({service:"payment",success:function(i){if(t.log(i.service),t.log(i.provider),-1!=i.provider.indexOf("alipay")){var a=n.alipay_Request1();t.log(JSON.stringify(a))}}})},alipay_Request1:function(){var i=this;return(0,u.default)(regeneratorRuntime.mark((function a(){var e,u,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=i,e={url:"http://121.43.40.52/fmr/public/index.php/index/index/Alipay_app_gd",data:{total:i.money},method:"GET",header:{"content-type":"application/x-www-form-urlencoded"}},t.log("faqizhifu"),a.next=5,i.$alipay_Request(e);case 5:u=a.sent,t.log(u.data),s=i.respace(u.data),t.log(s),uni.requestPayment({provider:0==i.current?"alipay":"wxpay",orderInfo:s,success:function(t){var i=n.get_Num();n.change_order(n.order_uid,i)},fail:function(i){t.log("fail:"+JSON.stringify(i))}});case 10:case"end":return a.stop()}}),a)})))()},change_order:function(t,i){uni.request({url:this.tp_url+"g_change_order_status",data:{uid:t,trade_no:i,status:1},success:function(t){200==t.data.res?(uni.showToast({title:t.data.msg}),setTimeout((function(){uni.navigateTo({url:"pay-result/pay-result?order_info="+JSON.stringify(t.data.data)})}),1500)):(uni.showToast({title:t.data.msg,icon:"none"}),setTimeout((function(){uni.switchTab({url:"/pages/index/index"})}),1500))}})}}};i.default=s}).call(this,a("5a52")["default"])}}]);